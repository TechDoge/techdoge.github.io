---

layout:     post
title:     Git基础
subtitle:   
date:       2019-07-14
author:     ctrlcoder
header-img: 
catalog: true
tags:
    - 开发工具
typora-root-url: ..
---

## 配置user信息

```shell
$ git config --global user.name "Your Name"
$ git config --global user.email "email@example.com"
```

#### config的3个作用域：

- git config --local 只对某个仓库有效

- git config --global 对当前用户所有仓库有效

- git config --system 对系统所有登录的用户有效

##### 显示config的配置，加--list

- git config --list --local

- git config --list --global 

- git config --list --system 

  

## Git仓库

#### 1. 把已有的项目代码纳入Git管理

```shell
$ cd 目标 文件夹
$ git init
```

#### 2. 新建的项目直接用Git管理

```shell
$ git init your_project
$ cd your_project
```

#### 3.添加远程仓库

```shell
$ git remote add origin  https://github.com/ctrlcoder/git_test.git
```



- git remote 查看远程库信息

  - -v

  

#### 4.从远程库仓库克隆

```shell
$ git clone https://github.com/ctrlcoder/git_test.git
```

> GitHub给出的地址不止一个，还可以用`https://github.com/michaelliao/gitskills.git`这样的地址。实际上，Git支持多种协议，默认的`git://`使用ssh，但也可以使用`https`等其他协议。使用`https`除了速度慢以外，还有个最大的麻烦是每次推送都必须输入口令，但是在某些只开放http端口的公司内部就无法使用`ssh`协议而只能用`https`。



## 基本操作

#### git status 

- Changes not staged for commit

- Changes to be committed
- nothing to commit, working tree clean

#### diff  

- git diff：比较工作区与暂存区

- git diff  --cached：ached 比较暂存区与最新本地版本库

#### add添加到暂存区

- git add 文件名
- git add .

![1563084618981](/img/assets_2019/1563084618981.png)

#### git commit

- git commit -m'message'

  **类别(范围): 描述**，如chore(typo): fix comment typo

- 类别
  - feat：新功能（feature）
  - fix：修补bug
  - docs：文档（documentation）
  - style： 格式（不影响代码运行的变动）
  - refactor：重构（即不是新增功能，也不是修改bug的代码变动）
  - test：增加测试
  - chore：构建过程或辅助工具的变动

#### git log

- --oneline

- --all
- --graph
- --pretty=oneline

#### git rm



## 分支管理

#### git branch  查看当前分支

- -a

- -vv

#### git checkout -b 分支名：创建分支并切换

相当于

```shell
$ git branch 分支名 #创建分支
$ git checkout 分支名 #切换分支
```

#### 合并分支

如，把dev分支的工作成果合并到master

```shell
$ git checkout master

$ git merge dev # 合并某分支到当前分支
```

#### 删除分支

```shell
$ git branch -d 分支名
```

#### 删除远程分支

```shell
$ git push origin --delete 分支名
```

#### 新建远程分支

> 如果你还没有 git 仓库，可以在 GitHub 等代码托管平台上创建一个空（不要自动生成 README.md）的 repository，然后将代码 push 到远端仓库。

```shell
$ git checkout -b 分支名 

$ git push orgin 分支名
```

#### 本地分支和远程分支

```shell
$ git checkout -b 分支名 origin/分支名 #远程分支存在，本地创建并关联

$ git push -u origin 分支名 #远程分支不存在，本地push上去并关联

$ git branch --set-upstream-to=origin/分支名 #远程分支必须存在，本地与远程关联 
```

